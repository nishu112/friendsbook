{% extends "friendsbook/structure.html" %}
{% block content %}

<div class="container"><br><br><br>
	<div class="row">
		<div class="col-sm-9">
			<div class="row ">
				<div class="background_pic_design">

					{%if User.profileCover.image%}
						<div class="cover_background" id="cover_background" title="Cover" style='background-image: url("{{User.profileCover.image.url}}");'>
					{%else%}
						<div class="cover_background" id="cover_background" title="Cover" style='background-image: url("/static/img/cover.jpg");"'>
					{%endif%}
					<button onclick="profileshowstatus()" class="button1">Timeline</button>
					<button class="button2">About</button>
					<button onclick="profileshowfriendlist()" class="button3">Friends</button>
					<button onclick="profileshowphoto()" class="button4">Photos</button>
					<button class="button5">More</button>
					{% ifequal User.username.username user.username  %}
					<div class="button6" style="margin-bottom: 20px;">
						<button type="button" class="btn btn-primary js-upload-photos" id="mycover">

						  <span class="glyphicon glyphicon-cloud-upload"></span> Upload Cover

						</button>
						<input id="fileupload1" type="file" name="image"
							   style="display: none;"
							   data-url="{%url 'UpdateCover'%}"
							   data-form-data='{"csrfmiddlewaretoken": "{{ csrf_token }}"}'/>
					</div>
					{%endifequal%}
					<p class="name">{{User.username.profile.fname}} {%if User.username.profile.lname%}{{User.username.profile.lname}}{%endif%}</p>
						<div class="pic"  onmouseout="notdisplaychangebutton()" onmouseover="displaychangebutton()">
						{%if User.sid%}
									{%if User.sid.image%}
										<img class="img-rounded" id="my_profile_pic"  src="{{ User.sid.image.url}}" alt="My image" width="200" height="200"/>
									{%endif%}
						{%else%}
							<img class="img-rounded" id="my_profile_pic" src="/static/img/profile_pic.png" alt="My image" width="200" height="200"/>
						{%endif%}
						{% ifequal User.username.username user.username  %}
						<div class="button7" >
						<button type="button" class="btn btn-primary js-upload-photos" id="mypic">
						  <span class="glyphicon glyphicon-cloud-upload"></span> Upload Profile Picture
						</button>


						<input id="fileupload2" type="file" name="image"
							   style="display: none;"
							   data-url="{%url 'UpdateProfile'%}"
							   data-form-data='{"csrfmiddlewaretoken": "{{ csrf_token }}"}'/>
						</div>
						{%endifequal%}

						</div>
					</div>
				</div>
			</div>


			<!---
			-->
			<br><br><br>
			<div id="profileonclickbuttons" style="display:block";class="row">
				<div class="col-sm-5">
					<div class ="intro" >
						<h4><img src="/static/img/introicon.png" width="25px" height="25px"><strong>&nbsp&nbspIntro</strong></h4>
						<p><img src="/static/img/read.jpg" width="20px" height="20px" >&nbsp&nbspStudying at</p>
						<p><img src="/static/img/images.png" width="20px" height="20px">&nbsp&nbspLives in </p>
						<p><img src="/static/img/color-icons-green-home.png" width="20px" height="20px">&nbsp&nbspFrom</p>
						<p><img src="/static/img/born.png" width="20px" height="20px">&nbsp&nbsp Born in</p>
					</div>
				</div>
				<div class="col-sm-7">
						<br>
						<h1>Space for create post</h1>
						<div class="row">
							<div class="col-sm-12">
								{%include "uposts/only_post.html" %}<br>
							</div>
						</div>
				</div>
			</div>




		<!---
		-->


			<div class="row">

			</div>

		</div>
		<div class="col-sm-1">
		</div>
		<div class="col-sm-2">
			{%include "chat/online_user_list.html"%}
		</div>
	</div>

</div>




<script>
function profileshowfriendlist(){
	$.ajax({
        url: '/ajax/users/profile/friend_list/',
		type:'get',
        dataType: 'json',
        success: function (data) {
			console.log(data);
			document.getElementById('profileonclickbuttons').innerHTML=data;

        }
      });
    }

function profileshowphoto(){
	$.ajax({
        url: '/ajax/users/profile/photoframe/',
		type:'get',
        dataType: 'json',
        success: function (data) {
			console.log(data);
			document.getElementById('profileonclickbuttons').innerHTML=data;

        }
      });
    }

function profileshowstatus(){
	var pathurl='{{request.path}}';
	console.log(pathurl);
	$.ajax({
        url: '/ajax/users/profile/status/',
				data:{
					pathurl:pathurl
				},
		type:'get',
        dataType: 'json',
        success: function (data) {
			console.log(data);
			document.getElementById('profileonclickbuttons').innerHTML=data;

        }
      });

}



function displaychangebutton(){
var prop='display:block;opacity:1;background-color: #008CBA;color: white;'
document.getElementById('mypic').style.display='block'

}

function notdisplaychangebutton(){
document.getElementById('mypic').style.display='none'
}
</script>
{% endblock %}
